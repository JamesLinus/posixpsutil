<!DOCTYPE html>

<html>
<head>
<meta charset="UTF-8">

<title>class PosixPsutil::Process - RDoc Documentation</title>

<script type="text/javascript">
  var rdoc_rel_prefix = "../";
</script>

<script src="../js/jquery.js"></script>
<script src="../js/darkfish.js"></script>

<link href="../css/fonts.css" rel="stylesheet">
<link href="../css/rdoc.css" rel="stylesheet">



<body id="top" role="document" class="class">
<nav role="navigation">
  <div id="project-navigation">
    <div id="home-section" role="region" title="Quick navigation" class="nav-section">
  <h2>
    <a href="../index.html" rel="home">Home</a>
  </h2>

  <div id="table-of-contents-navigation">
    <a href="../table_of_contents.html#pages">Pages</a>
    <a href="../table_of_contents.html#classes">Classes</a>
    <a href="../table_of_contents.html#methods">Methods</a>
  </div>
</div>

    <div id="search-section" role="search" class="project-section initially-hidden">
  <form action="#" method="get" accept-charset="utf-8">
    <div id="search-field-wrapper">
      <input id="search-field" role="combobox" aria-label="Search"
             aria-autocomplete="list" aria-controls="search-results"
             type="text" name="search" placeholder="Search" spellcheck="false"
             title="Type to search, Up and Down to navigate, Enter to load">
    </div>

    <ul id="search-results" aria-label="Search Results"
        aria-busy="false" aria-expanded="false"
        aria-atomic="false" class="initially-hidden"></ul>
  </form>
</div>

  </div>

  

  <div id="class-metadata">
    
    <div id="parent-class-section" class="nav-section">
  <h3>Parent</h3>

  
  <p class="link">Object
  
</div>

    <div id="includes-section" class="nav-section">
  <h3>Included Modules</h3>

  <ul class="link-list">
  
  
    <li><span class="include">POSIX</span>
  
  
  </ul>
</div>

    
    <!-- Method Quickref -->
<div id="method-list-section" class="nav-section">
  <h3>Methods</h3>

  <ul class="link-list" role="directory">
    
    <li ><a href="#method-c-new">::new</a>
    
    <li ><a href="#method-c-pid_exists">::pid_exists</a>
    
    <li ><a href="#method-c-pids">::pids</a>
    
    <li ><a href="#method-c-process_iter">::process_iter</a>
    
    <li ><a href="#method-c-processes">::processes</a>
    
    <li ><a href="#method-i-21-3D">#!=</a>
    
    <li ><a href="#method-i-3D-3D">#==</a>
    
    <li ><a href="#method-i-children">#children</a>
    
    <li ><a href="#method-i-cmdline">#cmdline</a>
    
    <li ><a href="#method-i-connections">#connections</a>
    
    <li ><a href="#method-i-cpu_affinity">#cpu_affinity</a>
    
    <li ><a href="#method-i-cpu_percent">#cpu_percent</a>
    
    <li ><a href="#method-i-cpu_times">#cpu_times</a>
    
    <li ><a href="#method-i-create_time">#create_time</a>
    
    <li ><a href="#method-i-cwd">#cwd</a>
    
    <li ><a href="#method-i-eql-3F">#eql?</a>
    
    <li ><a href="#method-i-exe">#exe</a>
    
    <li ><a href="#method-i-gids">#gids</a>
    
    <li ><a href="#method-i-inspect">#inspect</a>
    
    <li ><a href="#method-i-io_counters">#io_counters</a>
    
    <li ><a href="#method-i-ionice">#ionice</a>
    
    <li ><a href="#method-i-is_running">#is_running</a>
    
    <li ><a href="#method-i-kill">#kill</a>
    
    <li ><a href="#method-i-memory_info">#memory_info</a>
    
    <li ><a href="#method-i-memory_info_ex">#memory_info_ex</a>
    
    <li ><a href="#method-i-memory_maps">#memory_maps</a>
    
    <li ><a href="#method-i-memory_percent">#memory_percent</a>
    
    <li ><a href="#method-i-name">#name</a>
    
    <li ><a href="#method-i-nice">#nice</a>
    
    <li ><a href="#method-i-nice-3D">#nice=</a>
    
    <li ><a href="#method-i-num_ctx_switches">#num_ctx_switches</a>
    
    <li ><a href="#method-i-num_fds">#num_fds</a>
    
    <li ><a href="#method-i-num_threads">#num_threads</a>
    
    <li ><a href="#method-i-open_files">#open_files</a>
    
    <li ><a href="#method-i-parent">#parent</a>
    
    <li ><a href="#method-i-ppid">#ppid</a>
    
    <li ><a href="#method-i-resume">#resume</a>
    
    <li ><a href="#method-i-rlimit">#rlimit</a>
    
    <li ><a href="#method-i-send_signal">#send_signal</a>
    
    <li ><a href="#method-i-status">#status</a>
    
    <li ><a href="#method-i-suspend">#suspend</a>
    
    <li ><a href="#method-i-terminal">#terminal</a>
    
    <li ><a href="#method-i-terminate">#terminate</a>
    
    <li ><a href="#method-i-threads">#threads</a>
    
    <li ><a href="#method-i-time_used">#time_used</a>
    
    <li ><a href="#method-i-to_hash">#to_hash</a>
    
    <li ><a href="#method-i-to_s">#to_s</a>
    
    <li ><a href="#method-i-uids">#uids</a>
    
    <li ><a href="#method-i-username">#username</a>
    
    <li ><a href="#method-i-wait">#wait</a>
    
  </ul>
</div>

  </div>
</nav>

<main role="main" aria-labelledby="class-PosixPsutil::Process">
  <h1 id="class-PosixPsutil::Process" class="class">
    class PosixPsutil::Process
  </h1>

  <section class="description">
    
<p>Warning: There is already a <a href="Process.html">Process</a> module in
ruby, so don&#39;t confuse it with  this <a
href="Process.html">PosixPsutil::Process</a>. And take care of `include
PosixPsutil`, unless you  have clearly considered about it.</p>

  </section>

  
  
  
  <section id="5Buntitled-5D" class="documentation-section">
    

    

    

    
    <section class="attribute-method-details" class="method-section">
      <header>
        <h3>Attributes</h3>
      </header>

      
      <div id="attribute-i-identity" class="method-detail">
        <div class="method-heading attribute-method-heading">
          <span class="method-name">identity</span><span
            class="attribute-access-type">[R]</span>
        </div>

        <div class="method-description">
        
        
        
        </div>
      </div>
      
      <div id="attribute-i-pid" class="method-detail">
        <div class="method-heading attribute-method-heading">
          <span class="method-name">pid</span><span
            class="attribute-access-type">[R]</span>
        </div>

        <div class="method-description">
        
        
        
        </div>
      </div>
      
    </section>
    

    
     <section id="public-class-5Buntitled-5D-method-details" class="method-section">
       <header>
         <h3>Public Class Methods</h3>
       </header>

    
      <div id="method-c-new" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">new</span><span
            class="method-args">(pid=nil)</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          <p>initialize a <a href="Process.html">Process</a> instance with pid,  if not
pid given, initialize it with current process&#39;s pid.</p>
          
          

          
          <div class="method-source-code" id="new-source">
            <pre><span class="ruby-comment"># File process.rb, line 136</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">initialize</span>(<span class="ruby-identifier">pid</span>=<span class="ruby-keyword">nil</span>)
  <span class="ruby-identifier">pid</span> = <span class="ruby-operator">::</span><span class="ruby-constant">Process</span>.<span class="ruby-identifier">pid</span> <span class="ruby-keyword">unless</span> <span class="ruby-identifier">pid</span>
  <span class="ruby-ivar">@pid</span> = <span class="ruby-identifier">pid</span>
  <span class="ruby-identifier">raise</span> <span class="ruby-constant">ArgumentError</span>.<span class="ruby-identifier">new</span>(<span class="ruby-node">&quot;pid must be 
                          a positive integer (got #{@pid})&quot;</span>) <span class="ruby-keyword">if</span> <span class="ruby-ivar">@pid</span> <span class="ruby-operator">&lt;=</span> <span class="ruby-value">0</span>
  <span class="ruby-ivar">@name</span> = <span class="ruby-keyword">nil</span>
  <span class="ruby-ivar">@exe</span> = <span class="ruby-keyword">nil</span>
  <span class="ruby-ivar">@create_time</span> = <span class="ruby-keyword">nil</span> 
  <span class="ruby-ivar">@gone</span> = <span class="ruby-keyword">false</span>
  <span class="ruby-ivar">@proc</span> = <span class="ruby-constant">PlatformSpecificProcess</span>.<span class="ruby-identifier">new</span>(<span class="ruby-ivar">@pid</span>)
  <span class="ruby-comment"># for cpu_percent</span>
  <span class="ruby-ivar">@last_sys_cpu_times</span> = <span class="ruby-keyword">nil</span>
  <span class="ruby-ivar">@last_proc_cpu_times</span> = <span class="ruby-keyword">nil</span>
  <span class="ruby-keyword">begin</span>
    <span class="ruby-identifier">create_time</span>
  <span class="ruby-keyword">rescue</span> <span class="ruby-constant">AccessDenied</span>
    <span class="ruby-comment"># we should never get here as AFAIK we&#39;re able to get</span>
    <span class="ruby-comment"># process creation time on all platforms even as a</span>
    <span class="ruby-comment"># limited user</span>
  <span class="ruby-keyword">rescue</span> <span class="ruby-constant">NoSuchProcess</span>
    <span class="ruby-identifier">msg</span> = <span class="ruby-node">&quot;no process found with pid #{@pid}&quot;</span>
    <span class="ruby-identifier">raise</span> <span class="ruby-constant">NoSuchProcess</span>.<span class="ruby-identifier">new</span>(<span class="ruby-identifier">pid</span><span class="ruby-value">:@pid</span>, <span class="ruby-identifier">msg</span><span class="ruby-value">:msg</span>)
  <span class="ruby-keyword">end</span>
  <span class="ruby-comment"># This part is supposed to indentify a Process instance</span>
  <span class="ruby-comment"># univocally over time (the PID alone is not enough as</span>
  <span class="ruby-comment"># it might refer to a process whose PID has been reused).</span>
  <span class="ruby-comment"># This will be used later in == and is_running().</span>
  <span class="ruby-ivar">@identity</span> = [<span class="ruby-ivar">@pid</span>, <span class="ruby-ivar">@create_time</span>]
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-c-pid_exists" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">pid_exists</span><span
            class="method-args">(pid)</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          <p>Return true if given PID exists in the current process list. This is faster
than doing “pid in psutil.pids()” and should be preferred.</p>
          
          

          
          <div class="method-source-code" id="pid_exists-source">
            <pre><span class="ruby-comment"># File process.rb, line 72</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword">self</span>.<span class="ruby-identifier">pid_exists</span>(<span class="ruby-identifier">pid</span>)
  <span class="ruby-constant">POSIX</span><span class="ruby-operator">::</span><span class="ruby-identifier">pid_exists</span>(<span class="ruby-identifier">pid</span>)
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-c-pids" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">pids</span><span
            class="method-args">()</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          <p>Return an Array of current running PIDs.</p>
          
          

          
          <div class="method-source-code" id="pids-source">
            <pre><span class="ruby-comment"># File process.rb, line 65</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword">self</span>.<span class="ruby-identifier">pids</span>
  <span class="ruby-constant">PlatformSpecificProcess</span>.<span class="ruby-identifier">pids</span>()
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-c-process_iter" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">process_iter</span><span
            class="method-args">()</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          <p>Like self.processes(), but return next <a href="Process.html">Process</a>
instance in each iteration. To imitate Python&#39;s iterator, use
Enumerator to implement this method, which means it will raise
StopIteration when it reaches the end.</p>
          
          

          
          <div class="method-source-code" id="process_iter-source">
            <pre><span class="ruby-comment"># File process.rb, line 114</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword">self</span>.<span class="ruby-identifier">process_iter</span>
  <span class="ruby-identifier">processes</span> = []
  <span class="ruby-identifier">pids</span>().<span class="ruby-identifier">each</span> <span class="ruby-keyword">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">pid</span><span class="ruby-operator">|</span>
    <span class="ruby-keyword">begin</span>
      <span class="ruby-keyword">unless</span> <span class="ruby-identifier">@@pmap</span>.<span class="ruby-identifier">key?</span>(<span class="ruby-identifier">pid</span>) <span class="ruby-operator">&amp;&amp;</span> <span class="ruby-identifier">@@pmap</span>[<span class="ruby-identifier">pid</span>].<span class="ruby-identifier">is_running</span>
        <span class="ruby-identifier">p</span> = <span class="ruby-constant">Process</span>.<span class="ruby-identifier">new</span>(<span class="ruby-identifier">pid</span>)
        <span class="ruby-identifier">@@pmap</span>[<span class="ruby-identifier">p</span>.<span class="ruby-identifier">pid</span>] = <span class="ruby-identifier">p</span>
      <span class="ruby-keyword">end</span>
      <span class="ruby-identifier">processes</span>.<span class="ruby-identifier">push</span> <span class="ruby-identifier">@@pmap</span>[<span class="ruby-identifier">pid</span>]
    <span class="ruby-keyword">rescue</span> <span class="ruby-constant">NoSuchProcess</span>
      <span class="ruby-identifier">@@pmap</span>.<span class="ruby-identifier">delete</span>(<span class="ruby-identifier">pid</span>)
    <span class="ruby-keyword">rescue</span> <span class="ruby-constant">AccessDenied</span>
      <span class="ruby-keyword">next</span>
    <span class="ruby-keyword">end</span>
  <span class="ruby-keyword">end</span>
  <span class="ruby-identifier">processes</span>.<span class="ruby-identifier">to_enum</span>
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-c-processes" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">processes</span><span
            class="method-args">()</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          <p>Return all <a href="Process.html">Process</a> instances for all running
processes.</p>

<p>Every new <a href="Process.html">Process</a> instance is only created once
and then cached into an internal table which is updated every time this is
used.</p>

<p>Cached <a href="Process.html">Process</a> instances are checked for
identity so that you&#39;re safe in case a PID has been reused by another
process, in which case the cached instance is updated.</p>
          
          

          
          <div class="method-source-code" id="processes-source">
            <pre><span class="ruby-comment"># File process.rb, line 88</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword">self</span>.<span class="ruby-identifier">processes</span>
  <span class="ruby-identifier">pre_pids</span> = <span class="ruby-identifier">@@pmap</span>.<span class="ruby-identifier">keys</span>
  <span class="ruby-identifier">cur_pids</span> = <span class="ruby-identifier">pids</span>()
  <span class="ruby-identifier">gone_pids</span> = <span class="ruby-identifier">pre_pids</span> <span class="ruby-operator">-</span> <span class="ruby-identifier">cur_pids</span>
  
  <span class="ruby-identifier">gone_pids</span>.<span class="ruby-identifier">each</span> { <span class="ruby-operator">|</span><span class="ruby-identifier">pid</span><span class="ruby-operator">|</span> <span class="ruby-identifier">@@pmap</span>.<span class="ruby-identifier">delete</span>(<span class="ruby-identifier">pid</span>) }
  <span class="ruby-identifier">cur_pids</span>.<span class="ruby-identifier">each</span> <span class="ruby-keyword">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">pid</span><span class="ruby-operator">|</span>
    <span class="ruby-keyword">begin</span>
      <span class="ruby-keyword">unless</span> <span class="ruby-identifier">@@pmap</span>.<span class="ruby-identifier">key?</span>(<span class="ruby-identifier">pid</span>) <span class="ruby-operator">&amp;&amp;</span> <span class="ruby-identifier">@@pmap</span>[<span class="ruby-identifier">pid</span>].<span class="ruby-identifier">is_running</span>
        <span class="ruby-identifier">p</span> = <span class="ruby-constant">Process</span>.<span class="ruby-identifier">new</span>(<span class="ruby-identifier">pid</span>)
        <span class="ruby-identifier">@@pmap</span>[<span class="ruby-identifier">p</span>.<span class="ruby-identifier">pid</span>] = <span class="ruby-identifier">p</span>
      <span class="ruby-keyword">end</span>
    <span class="ruby-keyword">rescue</span> <span class="ruby-constant">NoSuchProcess</span>
      <span class="ruby-identifier">@@pmap</span>.<span class="ruby-identifier">delete</span>(<span class="ruby-identifier">pid</span>)
    <span class="ruby-keyword">rescue</span> <span class="ruby-constant">AccessDenied</span>
      <span class="ruby-comment"># Process creation time can&#39;t be determined hence there&#39;s</span>
      <span class="ruby-comment"># no way to tell whether the pid of the cached process</span>
      <span class="ruby-keyword">next</span>
    <span class="ruby-keyword">end</span>
  <span class="ruby-keyword">end</span>
  <span class="ruby-identifier">@@pmap</span>.<span class="ruby-identifier">values</span>
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
    </section>
  
     <section id="public-instance-5Buntitled-5D-method-details" class="method-section">
       <header>
         <h3>Public Instance Methods</h3>
       </header>

    
      <div id="method-i-21-3D" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">!=</span><span
            class="method-args">(other)</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          
          
          

          
          <div class="method-source-code" id="21-3D-source">
            <pre><span class="ruby-comment"># File process.rb, line 189</span>
<span class="ruby-keyword">def</span> <span class="ruby-operator">!=</span>(<span class="ruby-identifier">other</span>)
  <span class="ruby-keyword">return</span> <span class="ruby-operator">!</span>(<span class="ruby-keyword">self</span> <span class="ruby-operator">==</span> <span class="ruby-identifier">other</span>)
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-i-3D-3D" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">==</span><span
            class="method-args">(other)</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          <p>Test for equality with another <a href="Process.html">Process</a> object
based on PID and creation time.</p>
          
          

          
          <div class="method-source-code" id="3D-3D-source">
            <pre><span class="ruby-comment"># File process.rb, line 184</span>
<span class="ruby-keyword">def</span> <span class="ruby-operator">==</span>(<span class="ruby-identifier">other</span>)
  <span class="ruby-keyword">return</span> <span class="ruby-keyword">self</span>.<span class="ruby-identifier">class</span> <span class="ruby-operator">==</span> <span class="ruby-identifier">other</span>.<span class="ruby-identifier">class</span> <span class="ruby-operator">&amp;&amp;</span> <span class="ruby-ivar">@identity</span> <span class="ruby-operator">==</span> <span class="ruby-identifier">other</span>.<span class="ruby-identifier">identity</span>
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        
        <div class="aliases">
          Also aliased as: <a href="Process.html#method-i-eql-3F">eql?</a>
        </div>
        

        
      </div>

    
      <div id="method-i-children" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">children</span><span
            class="method-args">(recursive = false)</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          <p>Return the children of this process as a list of <a
href="Process.html">Process</a> instances, pre-emptively checking whether
PID has been reused. If recursive is true return all the parent
descendants.</p>

<p>Example (A == this process):</p>

<pre>A ─┐
   │
   ├─ B (child) ─┐
   │             └─ X (grandchild) ─┐
   │                                └─ Y (great grandchild)
   ├─ C (child)
   └─ D (child)

require &#39;posixpsutil&#39;

p = PosixPsutil::Process.new(Process.pid)
p.children()
# B, C, D
p.children(true)
# B, X, Y, C, D</pre>
          
          

          
          <div class="method-source-code" id="children-source">
            <pre><span class="ruby-comment"># File process.rb, line 566</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">children</span>(<span class="ruby-identifier">recursive</span> = <span class="ruby-keyword">false</span>)
  <span class="ruby-identifier">ret</span> = []
  <span class="ruby-keyword">if</span> <span class="ruby-identifier">recursive</span>
    <span class="ruby-comment"># construct a hash where &#39;values&#39;(an Array) are all the processes</span>
    <span class="ruby-comment"># having &#39;key&#39; as their parent</span>
    <span class="ruby-identifier">table</span> = {}
    <span class="ruby-keyword">self</span>.<span class="ruby-identifier">class</span>.<span class="ruby-identifier">processes</span>.<span class="ruby-identifier">each</span> <span class="ruby-keyword">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">p</span><span class="ruby-operator">|</span>
      <span class="ruby-keyword">begin</span>
        <span class="ruby-identifier">ppid</span> = <span class="ruby-identifier">p</span>.<span class="ruby-identifier">ppid</span>
        (<span class="ruby-identifier">table</span>.<span class="ruby-identifier">key?</span> <span class="ruby-identifier">ppid</span>)<span class="ruby-operator">?</span> <span class="ruby-identifier">table</span>[<span class="ruby-identifier">ppid</span>].<span class="ruby-identifier">push</span>(<span class="ruby-identifier">p</span>) <span class="ruby-operator">:</span> <span class="ruby-identifier">table</span>[<span class="ruby-identifier">ppid</span>] = [<span class="ruby-identifier">p</span>]
      <span class="ruby-keyword">rescue</span> <span class="ruby-constant">NoSuchProcess</span>
        <span class="ruby-keyword">next</span>
      <span class="ruby-keyword">end</span>
    <span class="ruby-keyword">end</span>

    <span class="ruby-comment"># At this point we have a mapping table where table[self.pid]</span>
    <span class="ruby-comment"># are the current process&#39; children.</span>
    <span class="ruby-comment"># Below, we look for all descendants recursively, similarly</span>
    <span class="ruby-comment"># to a recursive function call.</span>
    <span class="ruby-identifier">checkpids</span> = [<span class="ruby-ivar">@pid</span>]
    <span class="ruby-identifier">checkpids</span>.<span class="ruby-identifier">each</span> <span class="ruby-keyword">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">pid</span><span class="ruby-operator">|</span>
      <span class="ruby-keyword">next</span> <span class="ruby-keyword">unless</span> <span class="ruby-identifier">table</span>.<span class="ruby-identifier">key?</span> <span class="ruby-identifier">pid</span>
      <span class="ruby-identifier">table</span>[<span class="ruby-identifier">pid</span>].<span class="ruby-identifier">each</span> <span class="ruby-keyword">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">child</span><span class="ruby-operator">|</span>
        <span class="ruby-keyword">begin</span>
          <span class="ruby-comment"># if child happens to be older than its parent,</span>
          <span class="ruby-comment"># it means child&#39;s PID has been reused</span>
          <span class="ruby-identifier">intime</span> = (<span class="ruby-identifier">create_time</span>() <span class="ruby-operator">&lt;=</span> <span class="ruby-identifier">child</span>.<span class="ruby-identifier">create_time</span>())
        <span class="ruby-keyword">rescue</span> <span class="ruby-constant">NoSuchProcess</span>
          <span class="ruby-keyword">next</span>
        <span class="ruby-keyword">end</span>
        <span class="ruby-keyword">if</span> <span class="ruby-identifier">intime</span>
          <span class="ruby-identifier">ret</span>.<span class="ruby-identifier">push</span>(<span class="ruby-identifier">child</span>)
          <span class="ruby-identifier">checkpids</span>.<span class="ruby-identifier">push</span>(<span class="ruby-identifier">child</span>.<span class="ruby-identifier">pid</span>) <span class="ruby-keyword">unless</span> <span class="ruby-identifier">checkpids</span>.<span class="ruby-identifier">include?</span>(<span class="ruby-identifier">child</span>.<span class="ruby-identifier">pid</span>)
        <span class="ruby-keyword">end</span>
      <span class="ruby-keyword">end</span>
    <span class="ruby-keyword">end</span>

  <span class="ruby-keyword">else</span>
    <span class="ruby-keyword">self</span>.<span class="ruby-identifier">class</span>.<span class="ruby-identifier">processes</span>().<span class="ruby-identifier">each</span> <span class="ruby-keyword">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">p</span><span class="ruby-operator">|</span>
      <span class="ruby-keyword">begin</span>
        <span class="ruby-identifier">ret</span>.<span class="ruby-identifier">push</span>(<span class="ruby-identifier">p</span>) <span class="ruby-keyword">if</span> <span class="ruby-identifier">p</span>.<span class="ruby-identifier">ppid</span> <span class="ruby-operator">==</span> <span class="ruby-ivar">@pid</span> <span class="ruby-operator">&amp;&amp;</span> <span class="ruby-identifier">create_time</span>() <span class="ruby-operator">&lt;=</span> <span class="ruby-identifier">p</span>.<span class="ruby-identifier">create_time</span>()
      <span class="ruby-keyword">rescue</span> <span class="ruby-constant">NoSuchProcess</span>
        <span class="ruby-keyword">next</span>
      <span class="ruby-keyword">end</span>
    <span class="ruby-keyword">end</span>

  <span class="ruby-keyword">end</span>

  <span class="ruby-identifier">ret</span>
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-i-cmdline" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">cmdline</span><span
            class="method-args">()</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          <p>The command line this process has been called with. An array will be
returned</p>
          
          

          
          <div class="method-source-code" id="cmdline-source">
            <pre><span class="ruby-comment"># File process.rb, line 330</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">cmdline</span>
  <span class="ruby-ivar">@proc</span>.<span class="ruby-identifier">cmdline</span>()
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-i-connections" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">connections</span><span
            class="method-args">(interface = :inet)</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          <p>Return connections opened by process as a list of #&lt;OpenStruct fd,
family, type, laddr, raddr, status&gt; The &#39;kind&#39; parameter filters
for connections that match the following criteria:</p>

<p>Kind Value      Connections using :inet            IPv4 and IPv6 :inet4    
IPv4 :inet6           IPv6 :tcp             TCP :tcp4            TCP over
IPv4 :tcp6            TCP over IPv6 :udp             UDP :udp4           
UDP over IPv4 :udp6            UDP over IPv6 :unix            UNIX socket
(both UDP and TCP protocols) :all             the sum of all the possible
families and protocols</p>
          
          

          
          <div class="method-source-code" id="connections-source">
            <pre><span class="ruby-comment"># File process.rb, line 772</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">connections</span>(<span class="ruby-identifier">interface</span> = <span class="ruby-value">:inet</span>)
  <span class="ruby-ivar">@proc</span>.<span class="ruby-identifier">connections</span>(<span class="ruby-identifier">interface</span>)
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-i-cpu_affinity" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">cpu_affinity</span><span
            class="method-args">(cpus=nil)</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          <p>Get or set process <a href="CPU.html">CPU</a> affinity. If specified
&#39;cpus&#39; must be a list of CPUs for which you want to set the
affinity (e.g. [0, 1]).</p>

<p>If &#39;cpus&#39; is not an Array, an ArgumentError will be raised, if the
length of &#39;cpus&#39; larger than the number of CPUs,  the remain will
be ignore.</p>
          
          

          
          <div class="method-source-code" id="cpu_affinity-source">
            <pre><span class="ruby-comment"># File process.rb, line 516</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">cpu_affinity</span>(<span class="ruby-identifier">cpus</span>=<span class="ruby-keyword">nil</span>)
  <span class="ruby-keyword">if</span> <span class="ruby-identifier">cpus</span>.<span class="ruby-identifier">nil?</span>
    <span class="ruby-ivar">@proc</span>.<span class="ruby-identifier">cpu_affinity</span>
  <span class="ruby-keyword">elsif</span> <span class="ruby-identifier">cpus</span>.<span class="ruby-identifier">is_a?</span>(<span class="ruby-constant">Array</span>)
    <span class="ruby-ivar">@proc</span>.<span class="ruby-identifier">cpu_affinity</span>=(<span class="ruby-identifier">cpus</span>)
  <span class="ruby-keyword">end</span>
  <span class="ruby-identifier">raise</span> <span class="ruby-constant">ArgumentError</span>.<span class="ruby-identifier">new</span>(<span class="ruby-node">&quot;cpus must be an Array, got #{cpus}&quot;</span>)
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-i-cpu_percent" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">cpu_percent</span><span
            class="method-args">(interval = nil)</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          <p>Return a float representing the current process <a href="CPU.html">CPU</a>
utilization as a percentage.</p>

<p>When interval is &lt;= 0.0 or nil (default) compares process times to
system <a href="CPU.html">CPU</a> times elapsed since last call, returning
immediately (non-blocking). That means that the first time this is called
it will return a meaningful 0.0 value.</p>

<p>When interval is &gt; 0.0 compares process times to system <a
href="CPU.html">CPU</a> times elapsed before and after the interval.</p>

<p>In this case is recommended for accuracy that this function be called with
at least 0.1 seconds between calls.</p>

<p>Examples:</p>

<pre class="ruby"><span class="ruby-identifier">require</span> <span class="ruby-string">&#39;posixpsutil&#39;</span>

<span class="ruby-identifier">p</span> = <span class="ruby-constant">PosixPsutil</span><span class="ruby-operator">::</span><span class="ruby-constant">Process</span>.<span class="ruby-identifier">new</span>(<span class="ruby-constant">Process</span>.<span class="ruby-identifier">pid</span>)
<span class="ruby-comment"># blocking</span>
<span class="ruby-identifier">p</span>.<span class="ruby-identifier">cpu_percent</span>(<span class="ruby-value">1</span>)
<span class="ruby-comment"># 2.0</span>

<span class="ruby-comment"># non-blocking (percentage since last call)</span>
<span class="ruby-identifier">p</span>.<span class="ruby-identifier">cpu_percent</span>
<span class="ruby-comment"># 2.9</span>

<span class="ruby-identifier">p</span> = <span class="ruby-constant">PosixPsutil</span><span class="ruby-operator">::</span><span class="ruby-constant">Process</span>.<span class="ruby-identifier">new</span>(<span class="ruby-value">4527</span>)
<span class="ruby-comment"># first called</span>
<span class="ruby-identifier">p</span>.<span class="ruby-identifier">cpu_percent</span>
<span class="ruby-comment"># 0.0</span>

<span class="ruby-comment"># second called</span>
<span class="ruby-identifier">p</span>.<span class="ruby-identifier">cpu_percent</span>
<span class="ruby-comment"># 0.5</span>
</pre>
          
          

          
          <div class="method-source-code" id="cpu_percent-source">
            <pre><span class="ruby-comment"># File process.rb, line 653</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">cpu_percent</span>(<span class="ruby-identifier">interval</span> = <span class="ruby-keyword">nil</span>)
  <span class="ruby-identifier">blocking</span> = (<span class="ruby-identifier">interval</span> <span class="ruby-operator">&amp;&amp;</span> <span class="ruby-identifier">interval</span> <span class="ruby-operator">&gt;</span> <span class="ruby-value">0.0</span>)
  <span class="ruby-identifier">num_cpus</span> = <span class="ruby-constant">CPU</span>.<span class="ruby-identifier">cpu_count</span>()
  <span class="ruby-identifier">timer</span> = <span class="ruby-identifier">proc</span> { <span class="ruby-constant">Time</span>.<span class="ruby-identifier">now</span>.<span class="ruby-identifier">to_f</span> <span class="ruby-operator">*</span> <span class="ruby-identifier">num_cpus</span> }
  <span class="ruby-keyword">if</span> <span class="ruby-identifier">blocking</span>
    <span class="ruby-identifier">st1</span> = <span class="ruby-identifier">timer</span>.<span class="ruby-identifier">call</span>
    <span class="ruby-identifier">pt1</span> = <span class="ruby-ivar">@proc</span>.<span class="ruby-identifier">cpu_times</span>
    <span class="ruby-identifier">sleep</span> <span class="ruby-identifier">interval</span>
    <span class="ruby-identifier">st2</span> = <span class="ruby-identifier">timer</span>.<span class="ruby-identifier">call</span>
    <span class="ruby-identifier">pt2</span> = <span class="ruby-ivar">@proc</span>.<span class="ruby-identifier">cpu_times</span>
  <span class="ruby-keyword">else</span>
    <span class="ruby-identifier">st1</span> = <span class="ruby-ivar">@last_sys_cpu_times</span>
    <span class="ruby-identifier">pt1</span> = <span class="ruby-ivar">@last_proc_cpu_times</span>
    <span class="ruby-identifier">st2</span> = <span class="ruby-identifier">timer</span>.<span class="ruby-identifier">call</span>
    <span class="ruby-identifier">pt2</span> = <span class="ruby-ivar">@proc</span>.<span class="ruby-identifier">cpu_times</span>
    <span class="ruby-comment"># first called</span>
    <span class="ruby-keyword">if</span> <span class="ruby-identifier">st1</span>.<span class="ruby-identifier">nil?</span> <span class="ruby-operator">||</span> <span class="ruby-identifier">pt1</span>.<span class="ruby-identifier">nil?</span>
      <span class="ruby-ivar">@last_sys_cpu_times</span> = <span class="ruby-identifier">st2</span>
      <span class="ruby-ivar">@last_proc_cpu_times</span> = <span class="ruby-identifier">pt2</span>
      <span class="ruby-keyword">return</span> <span class="ruby-value">0.0</span>
    <span class="ruby-keyword">end</span>
  <span class="ruby-keyword">end</span>

  <span class="ruby-identifier">delta_proc</span> = (<span class="ruby-identifier">pt2</span>.<span class="ruby-identifier">user</span> <span class="ruby-operator">-</span> <span class="ruby-identifier">pt1</span>.<span class="ruby-identifier">user</span>) <span class="ruby-operator">+</span> (<span class="ruby-identifier">pt2</span>.<span class="ruby-identifier">system</span> <span class="ruby-operator">-</span> <span class="ruby-identifier">pt1</span>.<span class="ruby-identifier">system</span>)
  <span class="ruby-identifier">delta_time</span> = <span class="ruby-identifier">st2</span> <span class="ruby-operator">-</span> <span class="ruby-identifier">st1</span>
  <span class="ruby-comment"># reset values for next call in case of interval == None</span>
  <span class="ruby-ivar">@last_sys_cpu_times</span> = <span class="ruby-identifier">st2</span>
  <span class="ruby-ivar">@last_proc_cpu_times</span> = <span class="ruby-identifier">pt2</span>

  <span class="ruby-keyword">begin</span>
    <span class="ruby-comment"># The utilization split between all CPUs.</span>
    <span class="ruby-comment"># Note: a percentage &gt; 100 is legitimate as it can result</span>
    <span class="ruby-comment"># from a process with multiple threads running on different</span>
    <span class="ruby-comment"># CPU cores, see:</span>
    <span class="ruby-comment"># http://stackoverflow.com/questions/1032357</span>
    <span class="ruby-comment"># https://github.com/giampaolo/psutil/issues/474</span>
    <span class="ruby-identifier">overall_percent</span> = ((<span class="ruby-identifier">delta_proc</span> <span class="ruby-operator">/</span> <span class="ruby-identifier">delta_time</span>) <span class="ruby-operator">*</span> <span class="ruby-value">100</span>) <span class="ruby-operator">*</span> <span class="ruby-identifier">num_cpus</span>
    <span class="ruby-keyword">return</span> <span class="ruby-identifier">overall_percent</span>.<span class="ruby-identifier">round</span>(<span class="ruby-value">1</span>)
  <span class="ruby-keyword">rescue</span> <span class="ruby-constant">ZeroDivisionError</span>
    <span class="ruby-comment"># interval was too low</span>
    <span class="ruby-keyword">return</span> <span class="ruby-value">0.0</span>
  <span class="ruby-keyword">end</span>
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-i-cpu_times" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">cpu_times</span><span
            class="method-args">()</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          <p>Return a #&lt;OpenStruct user, system&gt; representing the accumulated
process time, in seconds.</p>
          
          

          
          <div class="method-source-code" id="cpu_times-source">
            <pre><span class="ruby-comment"># File process.rb, line 351</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">cpu_times</span>
  <span class="ruby-ivar">@proc</span>.<span class="ruby-identifier">cpu_times</span>
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-i-create_time" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">create_time</span><span
            class="method-args">()</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          <p>The process creation time as a floating point number expressed in seconds
since the epoch, in UTC. The return value is cached after first call.</p>
          
          

          
          <div class="method-source-code" id="create_time-source">
            <pre><span class="ruby-comment"># File process.rb, line 358</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">create_time</span>
  <span class="ruby-keyword">if</span> <span class="ruby-ivar">@create_time</span>.<span class="ruby-identifier">nil?</span>
    <span class="ruby-ivar">@create_time</span> = <span class="ruby-ivar">@proc</span>.<span class="ruby-identifier">create_time</span>
  <span class="ruby-keyword">end</span>
  <span class="ruby-ivar">@create_time</span>
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-i-cwd" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">cwd</span><span
            class="method-args">()</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          <p><a href="Process.html">Process</a> current working directory as an absolute
path.</p>
          
          

          
          <div class="method-source-code" id="cwd-source">
            <pre><span class="ruby-comment"># File process.rb, line 371</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">cwd</span>
  <span class="ruby-ivar">@proc</span>.<span class="ruby-identifier">cwd</span>
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-i-eql-3F" class="method-detail method-alias">
        
        <div class="method-heading">
          <span class="method-name">eql?</span><span
            class="method-args">(other)</span>
          
        </div>
        

        <div class="method-description">
          
          
          
          

          
        </div>

        

        
        <div class="aliases">
          Alias for: <a href="Process.html#method-i-3D-3D">==</a>
        </div>
        
      </div>

    
      <div id="method-i-exe" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">exe</span><span
            class="method-args">()</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          <p>The process executable as an absolute path. May also be an empty string.
The return value is cached after first call.</p>
          
          

          
          <div class="method-source-code" id="exe-source">
            <pre><span class="ruby-comment"># File process.rb, line 303</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">exe</span>
  <span class="ruby-keyword">if</span> <span class="ruby-operator">!</span><span class="ruby-ivar">@exe</span>
    <span class="ruby-keyword">begin</span>
      <span class="ruby-ivar">@exe</span> = <span class="ruby-ivar">@proc</span>.<span class="ruby-identifier">exe</span>()
    <span class="ruby-keyword">rescue</span> <span class="ruby-constant">AccessDenied</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-identifier">e</span>
      <span class="ruby-ivar">@exe</span> = <span class="ruby-string">&#39;&#39;</span>
      <span class="ruby-identifier">fallback</span> = <span class="ruby-identifier">e</span>
    <span class="ruby-keyword">end</span>

    <span class="ruby-keyword">if</span> <span class="ruby-ivar">@exe</span> <span class="ruby-operator">==</span> <span class="ruby-string">&#39;&#39;</span>
      <span class="ruby-identifier">cmdline</span> = <span class="ruby-keyword">self</span>.<span class="ruby-identifier">cmdline</span>()
      <span class="ruby-keyword">if</span> <span class="ruby-identifier">cmdline</span>
        <span class="ruby-identifier">exe</span> = <span class="ruby-identifier">cmdline</span>[<span class="ruby-value">0</span>] 
        <span class="ruby-keyword">if</span> <span class="ruby-constant">File</span>.<span class="ruby-identifier">exists?</span>(<span class="ruby-identifier">exe</span>) <span class="ruby-operator">&amp;&amp;</span> <span class="ruby-constant">File</span>.<span class="ruby-identifier">realpath</span> <span class="ruby-operator">==</span> <span class="ruby-identifier">exe</span>              <span class="ruby-operator">&amp;&amp;</span> <span class="ruby-constant">File</span>.<span class="ruby-identifier">stat</span>(<span class="ruby-identifier">exe</span>).<span class="ruby-identifier">executable?</span>
          <span class="ruby-ivar">@exe</span> = <span class="ruby-identifier">exe</span> 
        <span class="ruby-keyword">end</span>
      <span class="ruby-keyword">else</span>
        <span class="ruby-identifier">raise</span> <span class="ruby-identifier">fallback</span> <span class="ruby-keyword">if</span> <span class="ruby-identifier">fallback</span>
      <span class="ruby-keyword">end</span>
    <span class="ruby-keyword">end</span>
  <span class="ruby-keyword">end</span>
  <span class="ruby-ivar">@exe</span>
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-i-gids" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">gids</span><span
            class="method-args">()</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          <p>Return process GIDs as #&lt;OpenStruct real, effective, saved&gt;</p>
          
          

          
          <div class="method-source-code" id="gids-source">
            <pre><span class="ruby-comment"># File process.rb, line 396</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">gids</span>
  <span class="ruby-ivar">@proc</span>.<span class="ruby-identifier">gids</span>
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-i-inspect" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">inspect</span><span
            class="method-args">()</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          <p>Return a printable version of <a href="Process.html">Process</a>
instance&#39;s description.</p>
          
          

          
          <div class="method-source-code" id="inspect-source">
            <pre><span class="ruby-comment"># File process.rb, line 178</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">inspect</span>
  <span class="ruby-keyword">self</span>.<span class="ruby-identifier">to_s</span>.<span class="ruby-identifier">inspect</span>
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-i-io_counters" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">io_counters</span><span
            class="method-args">()</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          <p>Linux, BSD only</p>

<p>Return process I/O statistics as a #&lt;OpenStruct read_count, write_count,
read_bytes, write_bytes&gt;</p>

<p>Those are the number of read/write calls performed and the amount of bytes
read and written by the process.</p>
          
          

          
          <div class="method-source-code" id="io_counters-source">
            <pre><span class="ruby-comment"># File process.rb, line 429</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">io_counters</span>
  <span class="ruby-ivar">@proc</span>.<span class="ruby-identifier">io_counters</span>
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-i-ionice" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">ionice</span><span
            class="method-args">(ioclass=nil, value=nil)</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          <p>Linux only</p>

<p>Get or set process I/O niceness (priority).</p>

<p>On Linux &#39;ioclass&#39; is one of the IOPRIO_CLASS_* constants.
&#39;value&#39; is a number which goes from 0 to 7. The higher the value,
the lower the I/O priority of the process. `man ionice` for further info</p>

<p>You can use symbols or CONSTANTS as ioclass argument. For example,
`p.ioclass(:be, 4)` or  `p.ioclass(PosixPsutil::IOPRIO_CLASS_BE, 4)`</p>
<ul><li>
<p>IOPRIO_CLASS_NONE :none =&gt; 0</p>
</li><li>
<p>IOPRIO_CLASS_RT :rt =&gt; 1</p>
</li><li>
<p>IOPRIO_CLASS_BE :be =&gt; 2</p>
</li><li>
<p>IOPRIO_CLASS_IDLE :idle =&gt; 3</p>
</li></ul>
          
          

          
          <div class="method-source-code" id="ionice-source">
            <pre><span class="ruby-comment"># File process.rb, line 453</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">ionice</span>(<span class="ruby-identifier">ioclass</span>=<span class="ruby-keyword">nil</span>, <span class="ruby-identifier">value</span>=<span class="ruby-keyword">nil</span>)
  <span class="ruby-keyword">if</span> <span class="ruby-identifier">ioclass</span>.<span class="ruby-identifier">nil?</span> 
    <span class="ruby-identifier">raise</span> <span class="ruby-constant">ArgumentError</span>.<span class="ruby-identifier">new</span>(<span class="ruby-string">&quot;&#39;ioclass&#39; must be specified&quot;</span>) <span class="ruby-keyword">if</span> <span class="ruby-identifier">value</span>
    <span class="ruby-keyword">return</span> <span class="ruby-ivar">@proc</span>.<span class="ruby-identifier">ionice</span>
  <span class="ruby-keyword">else</span>
    <span class="ruby-comment"># If the value is nil, a reasonable value will be assigned</span>
    <span class="ruby-keyword">return</span> <span class="ruby-ivar">@proc</span>.<span class="ruby-identifier">set_ionice</span>(<span class="ruby-identifier">ioclass</span>, <span class="ruby-identifier">value</span>)
  <span class="ruby-keyword">end</span>
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-i-is_running" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">is_running</span><span
            class="method-args">()</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          <p>Return if this process is running. It also checks if PID has been reused by
another process in which case return false.</p>
          
          

          
          <div class="method-source-code" id="is_running-source">
            <pre><span class="ruby-comment"># File process.rb, line 263</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">is_running</span>
  <span class="ruby-keyword">return</span> <span class="ruby-keyword">false</span> <span class="ruby-keyword">if</span> <span class="ruby-ivar">@gone</span>
  <span class="ruby-keyword">begin</span>
    <span class="ruby-keyword">return</span> <span class="ruby-keyword">self</span> <span class="ruby-operator">==</span> <span class="ruby-constant">Process</span>.<span class="ruby-identifier">new</span>(<span class="ruby-ivar">@pid</span>)
  <span class="ruby-keyword">rescue</span> <span class="ruby-constant">NoSuchProcess</span>
    <span class="ruby-ivar">@gone</span> = <span class="ruby-keyword">true</span>
    <span class="ruby-keyword">return</span> <span class="ruby-keyword">false</span>
  <span class="ruby-keyword">end</span>
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-i-kill" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">kill</span><span
            class="method-args">()</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          <p>Kill the current process with SIGKILL pre-emptively checking whether PID
has been reused.</p>

<p>It is not an alias_method of <a
href="Process.html#method-i-send_signal">#send_signal</a></p>
          
          

          
          <div class="method-source-code" id="kill-source">
            <pre><span class="ruby-comment"># File process.rb, line 824</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">kill</span>
  <span class="ruby-identifier">send_signal</span>(<span class="ruby-string">&#39;KILL&#39;</span>)
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-i-memory_info" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">memory_info</span><span
            class="method-args">()</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          <p>Return an OpenStruct representing RSS (Resident Set Size) and VMS (Virtual
<a href="Memory.html">Memory</a> Size) in bytes.</p>
          
          

          
          <div class="method-source-code" id="memory_info-source">
            <pre><span class="ruby-comment"># File process.rb, line 699</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">memory_info</span>
  <span class="ruby-ivar">@proc</span>.<span class="ruby-identifier">memory_info</span>
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-i-memory_info_ex" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">memory_info_ex</span><span
            class="method-args">()</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          <p>Return an OpenStruct with variable fields depending on the platform
representing extended memory information about this process. All numbers
are expressed in bytes.</p>
          
          

          
          <div class="method-source-code" id="memory_info_ex-source">
            <pre><span class="ruby-comment"># File process.rb, line 706</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">memory_info_ex</span>
  <span class="ruby-ivar">@proc</span>.<span class="ruby-identifier">memory_info_ex</span>
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-i-memory_maps" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">memory_maps</span><span
            class="method-args">(grouped = true)</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          <p>If &#39;grouped&#39; is false every mapped region is shown as a single
entity and the namedtuple will also include the mapped region&#39;s address
space (&#39;addr&#39;) and permission set (&#39;perms&#39;).</p>
          
          

          
          <div class="method-source-code" id="memory_maps-source">
            <pre><span class="ruby-comment"># File process.rb, line 732</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">memory_maps</span>(<span class="ruby-identifier">grouped</span> = <span class="ruby-keyword">true</span>)
  <span class="ruby-identifier">maps</span> = <span class="ruby-ivar">@proc</span>.<span class="ruby-identifier">memory_maps</span>
  <span class="ruby-keyword">if</span> <span class="ruby-identifier">grouped</span>
    <span class="ruby-identifier">d</span> = {}
    <span class="ruby-identifier">maps</span>.<span class="ruby-identifier">each</span> <span class="ruby-keyword">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">region</span><span class="ruby-operator">|</span>
      <span class="ruby-identifier">path</span> = <span class="ruby-identifier">region</span>[<span class="ruby-value">2</span>]
      <span class="ruby-identifier">nums</span> = <span class="ruby-identifier">region</span>[<span class="ruby-value">3</span><span class="ruby-operator">..</span><span class="ruby-value">-1</span>]
      (<span class="ruby-identifier">d</span>[<span class="ruby-identifier">path</span>].<span class="ruby-identifier">nil?</span> ) <span class="ruby-operator">?</span> <span class="ruby-identifier">d</span>[<span class="ruby-identifier">path</span>] = <span class="ruby-identifier">nums</span> <span class="ruby-operator">:</span> 
        <span class="ruby-identifier">d</span>[<span class="ruby-identifier">path</span>].<span class="ruby-identifier">each_index</span> {<span class="ruby-operator">|</span><span class="ruby-identifier">i</span><span class="ruby-operator">|</span> <span class="ruby-identifier">d</span>[<span class="ruby-identifier">path</span>][<span class="ruby-identifier">i</span>] <span class="ruby-operator">+=</span> <span class="ruby-identifier">nums</span>[<span class="ruby-identifier">i</span>]}
    <span class="ruby-keyword">end</span>
    <span class="ruby-ivar">@proc</span>.<span class="ruby-identifier">pmmap_grouped</span>(<span class="ruby-identifier">d</span>)
  <span class="ruby-keyword">else</span>
    <span class="ruby-ivar">@proc</span>.<span class="ruby-identifier">pmmap_ext</span>(<span class="ruby-identifier">maps</span>)
  <span class="ruby-keyword">end</span>
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-i-memory_percent" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">memory_percent</span><span
            class="method-args">()</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          <p>Compare physical system memory to process resident memory (RSS) and
calculate process memory utilization as a percentage.</p>
          
          

          
          <div class="method-source-code" id="memory_percent-source">
            <pre><span class="ruby-comment"># File process.rb, line 713</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">memory_percent</span>
  <span class="ruby-identifier">rss</span> = <span class="ruby-ivar">@proc</span>.<span class="ruby-identifier">memory_info</span>.<span class="ruby-identifier">rss</span>
  <span class="ruby-identifier">@@total_phymem</span> = <span class="ruby-constant">Memory</span>.<span class="ruby-identifier">virtual_memory</span>.<span class="ruby-identifier">total</span> <span class="ruby-keyword">if</span> <span class="ruby-identifier">@@total_phymem</span>.<span class="ruby-identifier">nil?</span>
  <span class="ruby-keyword">begin</span>
    <span class="ruby-keyword">return</span> (<span class="ruby-identifier">rss</span> <span class="ruby-operator">/</span> <span class="ruby-identifier">@@total_phymem</span>.<span class="ruby-identifier">to_f</span> <span class="ruby-operator">*</span> <span class="ruby-value">100</span>).<span class="ruby-identifier">round</span>(<span class="ruby-value">2</span>)
  <span class="ruby-keyword">rescue</span> <span class="ruby-constant">ZeroDivisionError</span>
    <span class="ruby-keyword">return</span> <span class="ruby-value">0.0</span>
  <span class="ruby-keyword">end</span>
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-i-name" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">name</span><span
            class="method-args">()</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          <p>The process name. The return value is cached after first call.</p>
          
          

          
          <div class="method-source-code" id="name-source">
            <pre><span class="ruby-comment"># File process.rb, line 281</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">name</span>
  <span class="ruby-keyword">unless</span> <span class="ruby-ivar">@name</span>
    <span class="ruby-ivar">@name</span> = <span class="ruby-ivar">@proc</span>.<span class="ruby-identifier">name</span>()
    <span class="ruby-keyword">if</span> <span class="ruby-ivar">@name</span>.<span class="ruby-identifier">length</span> <span class="ruby-operator">&gt;=</span> <span class="ruby-value">15</span>
      <span class="ruby-keyword">begin</span>
        <span class="ruby-comment"># return an Array represented cmdline arguments( may be [] )</span>
        <span class="ruby-identifier">cmdline</span> = <span class="ruby-identifier">cmdline</span>()
      <span class="ruby-keyword">rescue</span> <span class="ruby-constant">AccessDenied</span>
        <span class="ruby-identifier">cmdline</span> = []
      <span class="ruby-keyword">end</span>
      <span class="ruby-keyword">if</span> <span class="ruby-identifier">cmdline</span> <span class="ruby-operator">!=</span> []
        <span class="ruby-identifier">extended_name</span> = <span class="ruby-constant">File</span>.<span class="ruby-identifier">basename</span>(<span class="ruby-identifier">cmdline</span>[<span class="ruby-value">0</span>])
        <span class="ruby-ivar">@name</span> = <span class="ruby-identifier">extended_name</span> <span class="ruby-keyword">if</span> <span class="ruby-identifier">extended_name</span>.<span class="ruby-identifier">start_with?</span>(<span class="ruby-ivar">@name</span>)
      <span class="ruby-keyword">end</span>
    <span class="ruby-keyword">end</span>
  <span class="ruby-keyword">end</span>
  <span class="ruby-ivar">@name</span>
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-i-nice" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">nice</span><span
            class="method-args">()</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          <p>Get process niceness (priority).</p>
          
          

          
          <div class="method-source-code" id="nice-source">
            <pre><span class="ruby-comment"># File process.rb, line 376</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">nice</span>
  <span class="ruby-ivar">@proc</span>.<span class="ruby-identifier">nice</span>
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-i-nice-3D" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">nice=</span><span
            class="method-args">(value)</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          <p>Set process niceness. Niceness values range from -20 (most favorable to the
process) to 19  (least favorable to the process) on Linux.</p>
          
          

          
          <div class="method-source-code" id="nice-3D-source">
            <pre><span class="ruby-comment"># File process.rb, line 383</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">nice=</span>(<span class="ruby-identifier">value</span>)
  <span class="ruby-identifier">raise</span> <span class="ruby-constant">NoSuchProcess</span>.<span class="ruby-identifier">new</span>(<span class="ruby-identifier">pid</span><span class="ruby-value">:@pid</span>) <span class="ruby-keyword">unless</span> <span class="ruby-identifier">is_running</span>()
  <span class="ruby-comment"># valid niceness range is system dependency, </span>
  <span class="ruby-comment"># so let each platform specific implemention handle the input</span>
  <span class="ruby-ivar">@proc</span>.<span class="ruby-identifier">nice</span> = <span class="ruby-identifier">value</span> 
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-i-num_ctx_switches" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">num_ctx_switches</span><span
            class="method-args">()</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          <p>Return the number of voluntary and involuntary context switches performed
by this process.</p>
          
          

          
          <div class="method-source-code" id="num_ctx_switches-source">
            <pre><span class="ruby-comment"># File process.rb, line 528</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">num_ctx_switches</span>
  <span class="ruby-ivar">@proc</span>.<span class="ruby-identifier">num_ctx_switches</span>
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-i-num_fds" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">num_fds</span><span
            class="method-args">()</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          <p>Return the number of file descriptors opened by this process</p>
          
          

          
          <div class="method-source-code" id="num_fds-source">
            <pre><span class="ruby-comment"># File process.rb, line 406</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">num_fds</span>
  <span class="ruby-ivar">@proc</span>.<span class="ruby-identifier">num_fds</span>
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-i-num_threads" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">num_threads</span><span
            class="method-args">()</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          <p>Return the number of threads used by this process.</p>
          
          

          
          <div class="method-source-code" id="num_threads-source">
            <pre><span class="ruby-comment"># File process.rb, line 533</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">num_threads</span>
  <span class="ruby-ivar">@proc</span>.<span class="ruby-identifier">num_threads</span>
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-i-open_files" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">open_files</span><span
            class="method-args">()</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          <p>Return regular files opened by process as a list of &lt;#OpenStruct path,
fd&gt; including the absolute file name and file descriptor number.</p>
          
          

          
          <div class="method-source-code" id="open_files-source">
            <pre><span class="ruby-comment"># File process.rb, line 751</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">open_files</span>
  <span class="ruby-ivar">@proc</span>.<span class="ruby-identifier">open_files</span>
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-i-parent" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">parent</span><span
            class="method-args">()</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          <p>Return the parent process as a <a href="Process.html">Process</a> object
pre-emptively checking whether PID has been reused. If no parent is known
return nil.</p>
          
          

          
          <div class="method-source-code" id="parent-source">
            <pre><span class="ruby-comment"># File process.rb, line 247</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">parent</span>
  <span class="ruby-identifier">ppid</span> = <span class="ruby-identifier">ppid</span>()
  <span class="ruby-keyword">if</span> <span class="ruby-identifier">ppid</span> 
    <span class="ruby-keyword">begin</span>
      <span class="ruby-identifier">parent</span> = <span class="ruby-constant">Process</span>.<span class="ruby-identifier">new</span> <span class="ruby-identifier">ppid</span>
      <span class="ruby-keyword">return</span> <span class="ruby-identifier">parent</span> <span class="ruby-keyword">if</span> <span class="ruby-identifier">parent</span>.<span class="ruby-identifier">create_time</span>() <span class="ruby-operator">&lt;=</span> <span class="ruby-identifier">create_time</span>()
    <span class="ruby-keyword">rescue</span> <span class="ruby-constant">NoSuchProcess</span>
      <span class="ruby-comment"># ignore ...</span>
    <span class="ruby-keyword">end</span>
  <span class="ruby-keyword">end</span>
  <span class="ruby-keyword">return</span> <span class="ruby-keyword">nil</span>
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-i-ppid" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">ppid</span><span
            class="method-args">()</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          <p>Return the parent pid of the process.</p>
          
          

          
          <div class="method-source-code" id="ppid-source">
            <pre><span class="ruby-comment"># File process.rb, line 276</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">ppid</span>
  <span class="ruby-ivar">@proc</span>.<span class="ruby-identifier">ppid</span>
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-i-resume" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">resume</span><span
            class="method-args">()</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          <p>Resume process execution with SIGCONT pre-emptively checking whether PID
has been reused.</p>
          
          

          
          <div class="method-source-code" id="resume-source">
            <pre><span class="ruby-comment"># File process.rb, line 810</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">resume</span>
  <span class="ruby-identifier">send_signal</span>(<span class="ruby-string">&#39;CONT&#39;</span>)
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-i-rlimit" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">rlimit</span><span
            class="method-args">(resource, limits=nil)</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          <p>Get or set process resource limits as a {:soft, :hard} Hash.</p>

<p>&#39;resource&#39; is one of the RLIMIT_* constants. Unlike other API,
&#39;limits&#39; is supposed to be a {:soft, :hard} Hash, instead of an
OpenStruct. Since using Hash as input is more common  than using OpenStruct
(and more handy, too).</p>

<p>`man prlimit` for further info. And see bits/resource.h for the detail
about resource.</p>

<p>You can use symbols or CONSTANTS as resource argument. For example:</p>

<pre class="ruby"><span class="ruby-identifier">limits</span> = {:<span class="ruby-identifier">soft</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">1024</span>, :<span class="ruby-identifier">hard</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">4096</span>}
<span class="ruby-identifier">p</span>.<span class="ruby-identifier">rlimit</span>(<span class="ruby-constant">PosixPsutil</span><span class="ruby-operator">::</span><span class="ruby-constant">RLIMIT_NOFILE</span>, <span class="ruby-identifier">limits</span>)
<span class="ruby-comment"># or</span>
<span class="ruby-identifier">p</span>.<span class="ruby-identifier">rlimit</span>(:<span class="ruby-identifier">nofile</span>, <span class="ruby-identifier">limits</span>)
</pre>
<ul><li>
<p>RLIMIT_CPU :cpu =&gt; 0</p>
</li><li>
<p>RLIMIT_FSIZE :fsize =&gt; 1</p>
</li><li>
<p>RLIMIT_DATA :data =&gt; 2</p>
</li><li>
<p>RLIMIT_STACK :stack =&gt; 3</p>
</li><li>
<p>RLIMIT_CORE :core =&gt; 4</p>
</li><li>
<p>RLIMIT_RSS :rss =&gt; 5</p>
</li><li>
<p>RLIMIT_NPROC :nproc =&gt; 6</p>
</li><li>
<p>RLIMIT_NOFILE :nofile =&gt; 7</p>
</li><li>
<p>RLIMIT_MEMLOCK :memlock =&gt; 8</p>
</li><li>
<p>RLIMIT_AS :as =&gt; 9</p>
</li><li>
<p>RLIMIT_LOCKS :locks =&gt; 10</p>
</li><li>
<p>RLIMIT_SIGPENDING :sigpending =&gt; 11</p>
</li><li>
<p>RLIMIT_MSGQUEUE :msgqueue =&gt; 12</p>
</li><li>
<p>RLIMIT_NICE :nice =&gt; 13</p>
</li><li>
<p>RLIMIT_RTPRIO :rtprio =&gt; 14</p>
</li><li>
<p>RLIMIT_RTTIME :rttime =&gt; 15</p>
</li><li>
<p>RLIMIT_NLIMITS :nlimits =&gt; 16</p>
</li></ul>
          
          

          
          <div class="method-source-code" id="rlimit-source">
            <pre><span class="ruby-comment"># File process.rb, line 501</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">rlimit</span>(<span class="ruby-identifier">resource</span>, <span class="ruby-identifier">limits</span>=<span class="ruby-keyword">nil</span>)
    <span class="ruby-ivar">@proc</span>.<span class="ruby-identifier">rlimit</span>
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-i-send_signal" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">send_signal</span><span
            class="method-args">(sig)</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          <p>Send a signal to process pre-emptively checking whether PID has been reused
(see signal module constants) .</p>

<p>signal may be an integer signal number or a POSIX signal name  (either with
or without a SIG prefix).  For example, &#39;SIGSTOP&#39;/&#39;STOP&#39;/19
all means the signal SIGSTOP</p>

<p>According to Ruby doc,  &gt; If signal is negative (or starts with a minus
sign),  &gt; kills process groups instead of processes</p>

<p>Currently I consider it as a feature and will not change this behaviour</p>
          
          

          
          <div class="method-source-code" id="send_signal-source">
            <pre><span class="ruby-comment"># File process.rb, line 788</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">send_signal</span>(<span class="ruby-identifier">sig</span>)
  <span class="ruby-keyword">begin</span>
    <span class="ruby-comment"># according to &quot;man 2 kill&quot; , PID 0 refers to </span>
    <span class="ruby-comment"># &#39;every process in the process group of the calling process&#39;</span>
    <span class="ruby-comment"># Luckily, @pid is &gt;= 0</span>
    <span class="ruby-operator">::</span><span class="ruby-constant">Process</span>.<span class="ruby-identifier">kill</span>(<span class="ruby-identifier">sig</span>, <span class="ruby-ivar">@pid</span>)
  <span class="ruby-keyword">rescue</span> <span class="ruby-constant">Errno</span><span class="ruby-operator">::</span><span class="ruby-constant">ESRCH</span>
    <span class="ruby-ivar">@gone</span> = <span class="ruby-keyword">true</span>
    <span class="ruby-identifier">raise</span> <span class="ruby-constant">NoSuchProcess</span>(<span class="ruby-ivar">@pid</span>, <span class="ruby-ivar">@name</span>)
  <span class="ruby-keyword">rescue</span> <span class="ruby-constant">Errno</span><span class="ruby-operator">::</span><span class="ruby-constant">EPERM</span>
    <span class="ruby-identifier">raise</span> <span class="ruby-constant">AccessDenied</span>(<span class="ruby-ivar">@pid</span>, <span class="ruby-ivar">@name</span>)
  <span class="ruby-keyword">end</span>
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-i-status" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">status</span><span
            class="method-args">()</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          <p>The process current status as a STATUS_* constant.</p>
          
          

          
          <div class="method-source-code" id="status-source">
            <pre><span class="ruby-comment"># File process.rb, line 335</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">status</span>
  <span class="ruby-ivar">@proc</span>.<span class="ruby-identifier">status</span>()
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-i-suspend" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">suspend</span><span
            class="method-args">()</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          <p>Suspend process execution with SIGSTOP pre-emptively checking whether PID
has been reused.</p>
          
          

          
          <div class="method-source-code" id="suspend-source">
            <pre><span class="ruby-comment"># File process.rb, line 804</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">suspend</span>
  <span class="ruby-identifier">send_signal</span>(<span class="ruby-string">&#39;STOP&#39;</span>)
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-i-terminal" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">terminal</span><span
            class="method-args">()</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          <p>The terminal associated with this process, if any, else nil.</p>
          
          

          
          <div class="method-source-code" id="terminal-source">
            <pre><span class="ruby-comment"># File process.rb, line 401</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">terminal</span>
  <span class="ruby-ivar">@proc</span>.<span class="ruby-identifier">terminal</span>
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-i-terminate" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">terminate</span><span
            class="method-args">()</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          <p>Terminate process execution with SIGTERM pre-emptively checking whether PID
has been reused.</p>
          
          

          
          <div class="method-source-code" id="terminate-source">
            <pre><span class="ruby-comment"># File process.rb, line 816</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">terminate</span>
  <span class="ruby-identifier">send_signal</span>(<span class="ruby-string">&#39;TERM&#39;</span>)
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-i-threads" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">threads</span><span
            class="method-args">()</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          <p>Return threads opened by process as a list of #&lt;OpenStruct id,
user_time, system_time&gt; representing thread id and thread <a
href="CPU.html">CPU</a> times (user/system).</p>
          
          

          
          <div class="method-source-code" id="threads-source">
            <pre><span class="ruby-comment"># File process.rb, line 540</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">threads</span>
  <span class="ruby-ivar">@proc</span>.<span class="ruby-identifier">threads</span>
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-i-time_used" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">time_used</span><span
            class="method-args">()</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          <p>Return the wall time cost by process, measured in seconds</p>
          
          

          
          <div class="method-source-code" id="time_used-source">
            <pre><span class="ruby-comment"># File process.rb, line 366</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">time_used</span>
  <span class="ruby-ivar">@proc</span>.<span class="ruby-identifier">time_used</span>
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-i-to_hash" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">to_hash</span><span
            class="method-args">(given_attrs = nil, default = {})</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          <p>&#39;default&#39; is the value which gets assigned in case <a
href="AccessDenied.html">AccessDenied</a>  exception is raised when
retrieving that particular process information.</p>
          
          

          
          <div class="method-source-code" id="to_hash-source">
            <pre><span class="ruby-comment"># File process.rb, line 207</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">to_hash</span>(<span class="ruby-identifier">given_attrs</span> = <span class="ruby-keyword">nil</span>, <span class="ruby-identifier">default</span> = {})
  <span class="ruby-comment"># psutil defines some excluded methods, they won&#39;t be accessed via</span>
  <span class="ruby-comment"># this method.</span>
  <span class="ruby-comment">#</span>
  <span class="ruby-comment"># psutil want to warn us that the process with given pid may gone,</span>
  <span class="ruby-comment"># as the comment at the head of the class says.</span>
  <span class="ruby-identifier">excluded_names</span> = [
    <span class="ruby-value">:identity</span>, <span class="ruby-value">:to_s</span>, <span class="ruby-value">:inspect</span>, <span class="ruby-value">:==</span>, <span class="ruby-value">:eql?</span>, <span class="ruby-value">:!=</span>, <span class="ruby-value">:to_hash</span>, <span class="ruby-value">:parent</span>, 
    <span class="ruby-value">:is_running</span>, <span class="ruby-value">:children</span>, <span class="ruby-value">:rlimit</span>, <span class="ruby-value">:send_signal</span>, <span class="ruby-value">:kill</span>, <span class="ruby-value">:terminate</span>, 
    <span class="ruby-value">:resume</span>, <span class="ruby-value">:suspend</span>, <span class="ruby-value">:wait</span>
  ]


  <span class="ruby-identifier">respond_to_methods</span> = <span class="ruby-keyword">self</span>.<span class="ruby-identifier">public_methods</span>(<span class="ruby-keyword">false</span>)
  <span class="ruby-identifier">included_names</span> = <span class="ruby-identifier">respond_to_methods</span> <span class="ruby-operator">-</span> <span class="ruby-identifier">excluded_names</span>
  <span class="ruby-identifier">ret</span> = {}
  <span class="ruby-identifier">attrs</span> = (<span class="ruby-identifier">given_attrs</span> <span class="ruby-operator">?</span> <span class="ruby-identifier">given_attrs</span> <span class="ruby-operator">:</span> <span class="ruby-identifier">included_names</span>)
  <span class="ruby-identifier">attrs</span>.<span class="ruby-identifier">each</span> <span class="ruby-keyword">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">attr</span><span class="ruby-operator">|</span>
    <span class="ruby-keyword">next</span> <span class="ruby-keyword">if</span> <span class="ruby-operator">!</span><span class="ruby-identifier">attr</span>.<span class="ruby-identifier">is_a?</span>(<span class="ruby-constant">Symbol</span>) <span class="ruby-operator">||</span> <span class="ruby-identifier">attr</span>.<span class="ruby-identifier">to_s</span>.<span class="ruby-identifier">end_with?</span>(<span class="ruby-string">&#39;=&#39;</span>)
    <span class="ruby-keyword">begin</span>
      <span class="ruby-comment"># filter unsafe methods</span>
      <span class="ruby-keyword">if</span> <span class="ruby-identifier">respond_to_methods</span>.<span class="ruby-identifier">include?</span>(<span class="ruby-identifier">attr</span>)
        <span class="ruby-identifier">ret</span>[<span class="ruby-identifier">attr</span>] = <span class="ruby-identifier">method</span>(<span class="ruby-identifier">attr</span>).<span class="ruby-identifier">call</span>()
      <span class="ruby-keyword">else</span>
        <span class="ruby-comment"># in case of not implemented functionality (may happen</span>
        <span class="ruby-comment"># on old or exotic systems) we want to crash only if</span>
        <span class="ruby-comment"># the user explicitly asked for that particular attr</span>
        <span class="ruby-identifier">raise</span> <span class="ruby-constant">NotImplementedError</span> <span class="ruby-keyword">if</span> <span class="ruby-identifier">given_attrs</span>
        <span class="ruby-identifier">ret</span>[<span class="ruby-identifier">attr</span>] = <span class="ruby-identifier">default</span>[<span class="ruby-identifier">attr</span>] <span class="ruby-keyword">if</span> <span class="ruby-identifier">default</span>.<span class="ruby-identifier">key?</span> <span class="ruby-identifier">attr</span>
      <span class="ruby-keyword">end</span>
    <span class="ruby-keyword">rescue</span> <span class="ruby-constant">AccessDenied</span>
      <span class="ruby-identifier">ret</span>[<span class="ruby-identifier">attr</span>] = <span class="ruby-identifier">default</span>[<span class="ruby-identifier">attr</span>] <span class="ruby-keyword">if</span> <span class="ruby-identifier">default</span>.<span class="ruby-identifier">key?</span> <span class="ruby-identifier">attr</span>
    <span class="ruby-keyword">end</span>
  <span class="ruby-keyword">end</span>
  <span class="ruby-identifier">ret</span>
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-i-to_s" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">to_s</span><span
            class="method-args">()</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          <p>Return description of <a href="Process.html">Process</a> instance.</p>
          
          

          
          <div class="method-source-code" id="to_s-source">
            <pre><span class="ruby-comment"># File process.rb, line 167</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">to_s</span>
  <span class="ruby-keyword">begin</span>
    <span class="ruby-keyword">return</span> <span class="ruby-node">&quot;(pid=#{@pid}, name=#{name()})&quot;</span>
  <span class="ruby-keyword">rescue</span> <span class="ruby-constant">NoSuchProcess</span>
    <span class="ruby-keyword">return</span> <span class="ruby-node">&quot;(pid=#{@pid} (terminated))&quot;</span>
  <span class="ruby-keyword">rescue</span> <span class="ruby-constant">AccessDenied</span>
    <span class="ruby-keyword">return</span> <span class="ruby-node">&quot;(pid=#{@pid})&quot;</span>
  <span class="ruby-keyword">end</span>
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-i-uids" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">uids</span><span
            class="method-args">()</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          <p>Return process UIDs as #&lt;OpenStruct real, effective, saved&gt;</p>
          
          

          
          <div class="method-source-code" id="uids-source">
            <pre><span class="ruby-comment"># File process.rb, line 391</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">uids</span>
  <span class="ruby-ivar">@proc</span>.<span class="ruby-identifier">uids</span>
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-i-username" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">username</span><span
            class="method-args">()</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          <p>The name of the user that owns the process.</p>
          
          

          
          <div class="method-source-code" id="username-source">
            <pre><span class="ruby-comment"># File process.rb, line 340</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">username</span>
  <span class="ruby-identifier">real_uid</span> = <span class="ruby-identifier">uids</span>[<span class="ruby-value">:real</span>]
  <span class="ruby-keyword">begin</span>
    <span class="ruby-keyword">return</span> <span class="ruby-constant">Etc</span><span class="ruby-operator">::</span><span class="ruby-identifier">getpwuid</span>(<span class="ruby-identifier">real_uid</span>).<span class="ruby-identifier">name</span>
  <span class="ruby-keyword">rescue</span> <span class="ruby-constant">ArgumentError</span>
    <span class="ruby-keyword">return</span> <span class="ruby-identifier">real_uid</span>.<span class="ruby-identifier">to_s</span>
  <span class="ruby-keyword">end</span>
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-i-wait" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">wait</span><span
            class="method-args">(timeout = nil)</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          <p>Waiting until process does not existed any more.  Raise Timeout::Error if
time out while waiting.</p>
          
          

          
          <div class="method-source-code" id="wait-source">
            <pre><span class="ruby-comment"># File process.rb, line 412</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">wait</span>(<span class="ruby-identifier">timeout</span> = <span class="ruby-keyword">nil</span>)
  <span class="ruby-keyword">if</span> <span class="ruby-identifier">timeout</span> <span class="ruby-operator">&amp;&amp;</span> <span class="ruby-identifier">timeout</span> <span class="ruby-operator">&lt;</span> <span class="ruby-value">0</span>
    <span class="ruby-identifier">raise</span> <span class="ruby-constant">ArgumentError</span>.<span class="ruby-identifier">new</span>(<span class="ruby-string">&quot;timeout must be a positive integer&quot;</span>) 
  <span class="ruby-keyword">end</span>
  <span class="ruby-keyword">return</span> <span class="ruby-identifier">wait_pid</span>(<span class="ruby-ivar">@pid</span>, <span class="ruby-identifier">timeout</span>)
  <span class="ruby-comment"># maybe raise Timeout::Error, need not to convert it currently</span>
  <span class="ruby-comment">#rescue Timeout::Error</span>
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
    </section>
  
  </section>
</main>


<footer id="validator-badges" role="contentinfo">
  <p><a href="http://validator.w3.org/check/referer">Validate</a>
  <p>Generated by <a href="http://docs.seattlerb.org/rdoc/">RDoc</a> 4.2.0.
  <p>Based on <a href="http://deveiate.org/projects/Darkfish-RDoc/">Darkfish</a> by <a href="http://deveiate.org">Michael Granger</a>.
</footer>

